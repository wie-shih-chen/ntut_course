# 北科大課程選課系統

## 快速啟動
0. 請先進入專案目錄：
   ```bash
   cd /Users/weishichen/Documents/程式/python/課程網站
   ```
1. 安裝依賴：
   ```bash
   pip install -r requirements.txt
   ```
2. 啟動伺服器：
   ```bash
   python app.py
   ```
3. 啟動後，瀏覽器開啟 [http://localhost:5000](http://localhost:5000)
4. 使用預設帳號登入：
   - 管理員：帳號 `1234`，密碼 `1234`
   - 學生：帳號 `學號`，密碼 `123456(預設密碼)`（可於 users.json 新增更多學生）
5. 管理員登入後自動進入管理員介面，學生登入則進入學生介面

## 專案簡介
本系統為北科大課程查詢與選課平台，支援管理員與學生兩種角色。管理員可管理課程、學生、選課時段、查詢與統計選課紀錄；學生可查詢課程、分頁選課、檢查衝堂與學分上限、可視化課表、匯出等。

## 系統主要功能一覽

- **管理員功能**：
  - 課程查詢、課表可視化、課程匯出
  - 使用者管理（新增、刪除、重設密碼、批次匯入）
  - 選課時段設定（多時段、學年學期管理、批次操作）
  - 學生選課紀錄查詢、統計視覺化
  - 登入日誌、操作日誌查詢

- **學生功能**：
  - 自動判斷班級、分頁查詢課程
  - 選課/退選、學分/衝堂檢查
  - 課表查詢、課表匯出、課表可視化
  - 快速選課、熱門課程排行、學分分布統計

- **API 與自動化**：
  - RESTful API（查課、選課、查紀錄、統計、登入驗證等）
  - 支援 Postman/curl 測試、Swagger 文件
  - 自動化測試（pytest）

- **日誌與安全**：
  - 登入日誌、操作日誌、密碼加密、帳號鎖定

- **選課時段管理**：
  - 多時段、多學年學期、批次設定、時段日期檢查

- **介面美化與體驗**：
  - Bootstrap 5 樣式、Google Fonts、Bootstrap Icons
  - 響應式設計、欄位美化、彈窗、提示訊息、快速連結

## 主要功能
- 管理員：課程查詢、課表可視化、匯出、使用者管理、選課時段設定、學生選課紀錄查詢、統計視覺化
- 學生：自動判斷班級、分頁查詢課程、選課/退選、學分/衝堂檢查、課表查詢、課表匯出、課表可視化
- RESTful API，支援前後端分離與行動裝置串接
- 自動化測試、操作日誌、安全機制

## 安裝與啟動
1. 安裝依賴：
   ```bash
   pip install -r requirements.txt
   ```
2. 啟動伺服器：
   ```bash
   python app.py
   ```
3. 預設管理員帳號/密碼：`admin` / `1234`

## 資料結構說明
- `data/`：課程資料（依學年/學期/班級分類，json 格式）
- `users.json`：使用者帳號資料（密碼已加密）
- `enroll_record.json`：學生選課紀錄
- `enroll_period.json`：選課時段設定

## API 文件
- 互動式 API 文件：[http://localhost:5000/api/docs](http://localhost:5000/api/docs)
- 主要 API 路徑：
  - `POST /api/login`：登入
  - `GET /api/courses`：查詢課程
  - `POST /api/enroll`：選課/退選
  - `GET /api/record`：查詢個人已選課程
  - `GET /api/stat`：查詢統計資料

## 自動化測試
- 測試檔：`test_api.py`
- 執行方式：
  ```bash
  pytest test_api.py
  ```
- 測試涵蓋：登入、查課、選課/退選、權限、異常、批量操作、統計等

## 常見問題
- **管理員/學生帳號密碼忘記？**
  - 管理員可於「使用者管理」頁面重設學生密碼
  - 也可直接編輯 `users.json` 並重啟伺服器
- **資料初始化/重置？**
  - 可直接清空 `enroll_record.json`、`users.json` 內容，或用測試檔自動產生
- **API 無法呼叫？**
  - 請確認已登入（session），或參考 `/api/docs` 測試
- **安全性建議**
  - 請務必更換預設密碼，並妥善保管管理員帳號

## 維護與擴充建議
- 可依需求擴充 API、前端、統計圖表、權限細節等
- 建議定期備份資料檔案（data/、users.json、enroll_record.json）


---
如有任何問題，歡迎聯絡開發者或於專案頁面提出 issue。 